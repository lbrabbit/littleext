<HTML>
<HEAD>
<TITLE>我的小擴充套件 說明</TITLE>
</HEAD>
<BODY>
<H1>我的小擴充套件 說明</H1>
<A HREF="#install">如何安裝</A><BR>
<A HREF="#delay">普通功能－flash延時</A><BR>
<A HREF="#wretch">網站特有功能－無名網誌</A><BR>
<A HREF="#phpBB">討論區特有功能－phpBB(包括哈啦無名)</A><BR>
<A HREF="#fs">發揮軟體自由，修改「我的小擴充套件」，讓它更貼身</A><BR>
<BR>
這個小擴充軟體可以讓你的火狐有更多的秘技，你也可以自行加入你想要的秘技。<BR>
這軟體現時有無名網誌備份、無名網誌提示、phpBB提示和flash延時這幾個小秘技，希望日後可以慢慢加入更多。<BR>
<BR>
本軟體另一個特色就是它是自由軟體。自由軟體包括有四方面的自由：<BR>
 * 任意使用的自由；<BR>
 * 研究及修改以符合自己用途的自由；<BR>
 * 拷貝給親朋好友的自由；<BR>
 * 散布修改後的軟體的自由。<BR>
<BR>
本程式所包括各種小圖：<BR>
 * <A HREF="http://blog.yam.com/onion_club/">洋蔥小圖</A>作者為Ethan，請勿自行加工修改或用於商業用途。<BR>
 * <A HREF="http://www.wretch.cc/blog/cwwany">彎彎小圖</A>的作者是彎彎，請勿自行加工修改或用於商業用途。<BR>
 * 無名小圖是引用自<A HREF="http://www.wretch.cc/">無名小站</A>，請只在無名小站使用。<BR>
除此以外的程式和檔案都是以GNU GPL授權。<BR>
<BR>
如果想多點認識自由軟體，可以參考洪老師和藹可親的介紹文章阿 ^^<BR>
<A HREF="http://www.cyut.edu.tw/~ckhung/">http://www.cyut.edu.tw/~ckhung/</A>(見「短文 [articles]」和「演講摘要 [slides]」)<BR>
<BR>
程式的開發網站在中研院資訊所的自由軟體鑄造場。
(<A HREF="http://rt.openfoundry.org/Foundry/Project/?Queue=617">http://rt.openfoundry.org/Foundry/Project/?Queue=617</A>)<BR>
本軟體是v0.4.2版。<BR>
<A NAME="install"><H2>如何安裝</H2></A>
<img src="firefox031.jpg"><br>
(圖片來自<A HREF="http://www.limo.fumi2kick.com/fbbs/lmwiki.rhtml?topic=FireFox-Tan">http://www.limo.fumi2kick.com/fbbs/lmwiki.rhtml?topic=FireFox-Tan</A>)<br>
<br>
1. 大家先要去<A HREF="http://moztw.org/">http://moztw.org/</A>下載口愛又好用的Firefox「火狐」瀏覽器。<br>
2. 安裝了Firefox「火狐」之後，下載<A HREF="http://rt.openfoundry.org/Foundry/Project/Download/?Queue=617">我的小擴充套件</A>至桌面上。<br>
3. 把桌面上的檔案拖放到Firefox「火狐」中。<BR>
<img src="install1.jpg"><BR>
4. 安裝完成。<BR>
<BR>
你也可以放一個自訂的圖示在火狐上端的工具列。先到工具列上按滑鼠右鍵，然後選「自訂」。<BR>
<img src="install2.png"><BR>
<img src="install3.jpg"><BR>
<A NAME="delay"><H2>普通功能－flash延時</H2></A>
<IMG SRC="delay.png"><BR>
利用這個功能，可以減慢flash小遊戲的速度，令遊戲變得更易。<BR>
用戶在flash所在的網頁按右下角的「小」字，選擇「使用flash延時」，延時功能就會開始。用右面的捲軸控制延時的多少。<BR>
<A NAME="wretch"><H2>網站特有功能－無名網誌</H2></A>
<U>網誌備份</U><BR>
特點：<BR>
-不論是金銀或免費會員，功能一樣，一樣可以備份<BR>
-只能為已登入的會員備份自己的網誌，但可以備份隱藏的網誌<BR>
-連引用的圖片也可備份<BR>
-用普通瀏覽器可以讀取備份檔<BR>
<IMG SRC='blogback1.jpg'><BR>
用法：<BR>
1.先登入，在自己網誌的首頁按右下角的「小」字，選「網誌備份」<BR>
2.等候分析網誌，製作網誌條目<BR>
3.可以配合shift和ctrl鍵選擇網誌條目，然後按下「選擇下載」或「選擇不下載」去控制下載哪些網誌<BR>
4.按「瀏覽」，輸入備份路徑<BR>
5.按「備份」開始備份<BR>
小提示：<BR>
-如果有很多篇網誌，可以分開幾次下載。<BR>
-如果在網誌上掛了太多東西，備份檔可能會不完備，煩請備份完畢後檢查一下檔案大小。有問的可以重新下載一次。<BR>
<BR>
<U>網誌提示</U><BR>
<IMG SRC="wretchblog1.png"><IMG SRC="wretchblog2.png"><BR>
<IMG SRC="wretchblog3.png"><IMG SRC="wretchblog4.png"><BR>
當編輯無名網誌時(一般編輯器)，擴充套件可以提供字體、格式和表情等的提示。這個功能可以用快速鍵ctrl-alt-L呼叫。<BR>
<BR>
小圖的作者花上了不少心思，所以在版面上有注明作者和網站，把小圖貼在網誌時也會包括作者的資料和出處，也希望大家使用小圖時遵守使用條件。
<A NAME="phpBB"><H2>討論區特有功能－phpBB(包括哈啦無名)</H2></A>
<IMG SRC="phpbb1.png"><IMG SRC="phpbb2.png"><BR>
當在phpBB上發表，擴充套件可以提供表情提示。<BR>
<BR>
小圖的作者花上了不少心思，所以在版面上有注明作者和網站，把小圖貼在文章中也會包括作者的資料和出處，也希望大家使用小圖時遵守使用條件。<BR>
<A NAME="fs"><H2>發揮軟體自由，修改「我的小擴充套件」，讓它更貼身</H2></A>
這個小小的軟體除了可以讓你用它，你也可以隨意去修改它。
它是以XUL和Javascript技術開發，如果你對HTML、CSS等咚咚有一點點認識，很容易就可以學會。
你需要一個跟UTF-8和BOM兼容的檔案修改程式(如Windows中的Notepad記事本)。每次安裝新版本會完全蓋過你的修改，請時常備份，也可用如<A HREF="http://subversion.tigris.org/">Subversion</A>的版本控制程式。
<H3>火狐的特別設定</H3>
如果你使用Windows，請安裝IETab擴充套件。可在<A HREF="http://ietab.mozdev.org/">http://ietab.mozdev.org/</A>安裝IETab擴充套件。這個擴充套件是在台灣陽明大學醫學系的PCMan寫的，在國內外廣受好評喔。<BR>
<BR>
修改一下profile中的user.js，可以令開發更順手。<BR>
<BR>
先看看這頁的url路徑。如果你是用Windows，路徑大概會是：<BR>
file:///C:/Documents%20and%20Settings/用戶名字/Application%20Data/Mozilla/Firefox/Profiles/???.??/extensions/Little@black.rabbit/chrome/help/help.htm<BR>
<BR>
Profile的路徑就是：<BR>
file:///C:/Documents%20and%20Settings/用戶名字/Application%20Data/Mozilla/Firefox/Profiles/???.??/<BR>
<BR>
你用這個Profile的路徑來開一個新的分頁，就可以看到Profile裡面的檔案。如果你是用Windows，可以按右下角的火狐小圖，就會變成用Windows來做檔案管理。
打開user.js，加入以下幾句：<BR>
<pre>
// Log errors in chrome file to the Javascript Console
user_pref( &quot;javascript.options.showInConsole&quot;, true);
// Disable XUL cache, so chrome changes do not require a restart
user_pref( &quot;nglayout.debug.disable_xul_cache&quot;, true);
// dump() function outputs to console if application started with -console flag
user_pref( &quot;browser.dom.window.dump.enabled&quot;, true);
// Enable strict javascript warnings, to produce clean extensions
user_pref( &quot;javascript.options.strict&quot;, true);
</pre>
<H3>得到擴充套件在電腦中的路徑</H3>
先看看這頁的url路徑。如果你是用Windows，路徑大概會是：<BR>
file:///C:/Documents%20and%20Settings/用戶名字/Application%20Data/Mozilla/Firefox/Profiles/???.??/extensions/Little@black.rabbit/chrome/help/help.htm<BR>
<BR>
擴充套件的路徑就是：<BR>
file:///C:/Documents%20and%20Settings/用戶名字/Application%20Data/Mozilla/Firefox/Profiles/???.??/extensions/Little@black.rabbit/<BR>
<BR>
你用這個擴充套件的路徑來開一個新的分頁，就可以看到擴充套件裡面的檔案。<BR>
<IMG SRC="ExtDir.png"><BR>
如果你是用Windows，可以按右下角的火狐小圖，就會變成用Windows來做檔案管理。<BR>
<H3>增加無名網誌提示</H3>
<img src="../images/onion/redface.gif"><img src="http://littleext.openfoundry.org/onion/redface.gif"><BR>
如果想加上紅臉小圖，要怎辦？<BR>
<BR>
首先要找出相關的路徑和檔案：<BR>
擴充套件的路徑/chrome/images<BR>
XUL表現架構base.xul，這個架構在無名和phpBB也會被引用作Overlay。<BR>
<BR>
打開base.xul，在檔案的中部會找到這幾句：<BR>
<pre>
  &lt;toolbar id=&quot;onionico2&quot;&gt;
    &lt;toolbarbutton id=&quot;onion/dream.gif&quot; 
      image=&quot;../images/onion/dream.gif&quot;
      onclick=&quot;putextbutton(this.id,'onion');&quot;/&gt;
    &lt;toolbarbutton id=&quot;onion/bye1.gif&quot; 
      image=&quot;../images/onion/bye1.gif&quot;
      onclick=&quot;putextbutton(this.id,'onion');&quot;/&gt;
    &lt;toolbarbutton id=&quot;onion/shalom.gif&quot; 
      image=&quot;../images/onion/shalom.gif&quot;
      onclick=&quot;putextbutton(this.id,'onion');&quot;/&gt;
    &lt;toolbarbutton id=&quot;onion/seaweeddance.gif&quot; 
      image=&quot;../images/onion/seaweeddance.gif&quot;
      onclick=&quot;putextbutton(this.id,'onion');&quot;/&gt;
  &lt;/toolbar&gt;
</pre>
toolbar就是指工具列，toolbarbutton就是指工具列上的一個按鈕。
要加入翻桌按鈕，語句法是：<BR>
<pre>
  &lt;toolbar id=&quot;onionico3&quot;&gt;
    &lt;toolbarbutton id=&quot;onion/redface.gif&quot; 
      image=&quot;../images/onion/redface.gif&quot;/&gt;
  &lt;/toolbar&gt;
</pre>
你也要下載紅臉小圖，儲存在擴充套件的路徑/chrome/images/onion/redface.gif。
這樣，小圖就加了，不過按下去並不會有什麼反應。我們需要的反應是把
&lt;img src=&quot;http://littleext.openfoundry.org/onion/redface.gif&quot;&gt;
這一句加入網誌內容中。在a_popup.js中已經有一個寫好了的函數puttextarea，
只要把以上那句img src訂為函數參數即可。當然也要遵守HTML的規定，把：<BR>
&lt; 變成 &amp;lt;<BR>
&gt; 變成 &amp;gt;<BR>
&quot; 變成 &amp;quot;<BR>
程式就變成：<BR>
<pre>
  &lt;toolbar id=&quot;onionico3&quot;&gt;
    &lt;toolbarbutton id=&quot;redface.gif&quot; 
      image=&quot;onion/redface.gif&quot;
      onclick=&quot;puttextarea('&amp;lt;img src=&amp;quot;http://littleext.openfoundry.org/onion/redface.gif&amp;quot;&amp;gt;');"/&gt;
  &lt;/toolbar&gt;
</pre>
puttextarea的參數實在太長了，於是寫了另一個專為http://littleext.openfoundry.org/
上面的小圖而設的函數putextbutton。程式就可以簡化為。
<pre>
  &lt;toolbar id=&quot;onionico3&quot;&gt;
    &lt;toolbarbutton id=&quot;onion/redface.gif&quot; 
      image=&quot;../images/onion/redface.gif&quot;
      onclick=&quot;putextbutton(this.id,'onion');&quot;/&gt;
  &lt;/toolbar&gt;
</pre>
<H3>增加普通功能</H3>
普通功能的相關路徑和檔案：<BR>
擴充套件的路徑/chrome/default<BR>
XUL表現架構 a_popup.xul<BR>
程式 a_popup.js<BR>
<H3>增加無名網誌以外的特有功能</H3>
例如你想為aaa.com寫一個特有功能，你先打開擴充套件路徑/chrome/，在sample目錄是個範例，
把它拷貝，名為aaa目錄。然後在little.js中的little_toolbar_popup函數加入新的條件：
<pre>
  if (locstr.indexOf(&quot;www.wretch.cc/blog/modify.php&quot;)!=-1) {
    var a_popup = getCurWW().openWindow(null,
      &quot;chrome://little/content/wretch/a_popup.xul&quot;, &quot;a_popup&quot;, 
      &quot;chrome,left=&quot;+popupleft+&quot;,top=&quot;+popuptop, null);
  }else if (locstr.indexOf(&quot;aaa.com&quot;)!=-1) {
    var a_popup = getCurWW().openWindow(null,
      &quot;chrome://little/content/aaa/a_popup.xul&quot;, &quot;a_popup&quot;, 
      &quot;chrome,left=&quot;+popupleft+&quot;,top=&quot;+popuptop, null);
  }else{
    var a_popup = getCurWW().openWindow(null,
      &quot;chrome://little/content/default/a_popup.xul&quot;, &quot;a_popup&quot;, 
      &quot;chrome,left=&quot;+popupleft+&quot;,top=&quot;+popuptop, null);
  }
</pre>
當你在aaa.com啟動我的小擴充套件，擴充套件路徑/chrome/aaa/a_popup.xul就會被呼叫出來了。
<H2>鳴謝</H2>
<A HREF="http://rt.openfoundry.org/">中研院資訊所自由軟體鑄造場</A><BR>
<A HREF="http://www.wretch.cc/">無名小站</A><BR>
<A HREF="http://www.wretch.cc/blog/cwwany">彎彎～用漫畫寫日誌</A><BR>
<A HREF="http://www.wretch.cc/blog/maomei0117">☆毛媽媽の隋手札記☆</A><BR>
<A HREF="http://blog.yam.com/onion_club/">洋蔥酷樂部</A><BR>
</BODY>
</HTML>